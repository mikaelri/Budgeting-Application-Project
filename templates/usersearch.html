{% extends "layout.html" %}
{% block content %}

{% if selected_budget %}

<h2>Search transactions - {{ selected_budget.name }} budget</h2>

{% endif %}

<p>In this page you can search transactions based on income or expense category.</p>

Select a category type below on which you want to search the transactions.<br>
The dropdown menu shows only those categories you have used in your budget.
<p>
<form class="form-inline" action="/categorylisting" method="GET">
  <div class="wrap-input">
    <label for="categorySelect"></label>
    <select class="form-control" name="category" id="categorySelect" required>

      <optgroup label="Income Categories">
        {% for category in income_category %}
          <option value="{{ category.name }}">{{ category.name }}</option>
        {% endfor %}
      </optgroup>

      <optgroup label="Expense Categories">
        {% for category in expense_category %}
        <option value="{{ category.name }}">{{ category.name }}</option>
        {% endfor %} 
      </optgroup>
    </select>

    <input type="hidden" name="budget_id" value="{{ budget_id }}">

    <button type="submit" class="btn btn-secondary mt-1">Search</button>
  </div>
</form>
</p>

<form class="form-inline" action="/mybudgets" method="GET">
  <div class="text-left mt-1">
    <button type="submit" class="btn btn-secondary">Return to My Budgets</button>
  </div>
</form>

{% endblock %}