{% extends "layout.html" %}
{% block content %}

<h2>Registration page</h2>

<p><b>Great choice!</b><br></p>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="flash-messages">
      {% for message in messages %}
        <div class="alert alert-{{ message[1] }}"><b>{{ message }}</b></div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

You are a few steps away from having a personal account and beginning the journey of budgeting!<br>
Please fill in the details below to create a new user account.<br>

<form action="/register" method="POST">
  <div class="form-group col-4 mt-2">
    <div class="row g-3 align-items-center">
      
      <b>Username:</b>
      <input type="text" name="username" id="username" minlength="1" maxlength="25" class="form-control" placeholder="1-25 characters" required>
      
      <b> Password:</b>
      <input type="password" name="password1" id="password1" minlength="5" maxlength="25" class="form-control" placeholder="5-25 characters" required>

      <b> Repeat password:</b><br>
      <input type="password" name="password2" id="password2" minlength="5" maxlength="25" class="form-control" placeholder="5-25 characters" required>
      
      <b> User role:</b>
      <select class="form-control" name="role">
        <option value=1> Regular user
        <option value=2> Admin
      </select>
    </div>
  </div>

<p>Once you have filled in the details, click <b>Confirm registration</b> and you will be routed to login page.</p>
<p>From the login page you can start using SpendManager!</p>
  <div class="text-left">
    <button type="submit" class="btn btn-secondary">Confirm registration</button>     
  </div>
</form> 

<form class="form-inline" action="/login" method="GET">
  <div class="text-left">
    <button type="submit" class="btn btn-secondary mt-3">Return to front page</button>
  </div>
</form>

{% endblock %}